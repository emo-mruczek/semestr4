1. Poufność maili

konto o mailu nabezpieke@o2.pl

wireshark z sudo
any
filtr: pop

można przechwycic: mail nadawcy, odbiorcy, temat, treść wiadomości, imie usera, odpowiedzi serwera, hasło

protokól SMTP nie przewiduje szyfrowania normalnie, ale wersja z TLS (SMTPS) (Transport Layer Security) juz tak

i tak, i nie - bo wiadomość na pewno jest zaszyfrowana i nie można przejąc jej snifferem, co nie znaczy, ze gwarantuje to prywatnosc (ktoś przejmie konto, wyciek danych, cos na urzadzeniu w styly keylogger)

szyfrowanie wiadomości samemu - narzędzia inne np Pretty Good Privacy (zapewnia m.in podpisy cyfrowe wiadomości, weryfikowanie nadawcy, szyfrowanie wiadomosci) albo S/MIME (podpobne do pgp)

korzystanie z protokołów z ssl/TLS

niedopuszczenie do przejecia konta (2fa, dobre haslo)

proton: end-to-end encryption (mail jest zaszyfrowany na urzadzeniu, przeslany w zaszyfrowaej formie, i odszyfrowany dopiero na kolejnym urzadzeniu), password-protected email (umozliwia wysylanie maili do osob spoza protona) zero-access encrypion (proton nie moze odczytac maili, są od razu szyfrowane na ich serwerach - proton nie może nikomu przekazac tresci maila), wbudowany support do pgp, 2fa, kryptografia krzywych eliptycznych, wspiera Sender Policy Framework (aby nikt nie mogl wyslac maila z mojego adresu), Domain Key Identified Mail (ze tresc maili nie byla zmieniana), DMARC (przeciw spoofowaniu adresu)

2.

z pwr.edu.pl - przechodzi spf (spf=pass (google.com: domain of 272336@student.pwr.edu.pl designates 209.85.220.41 as permitted sender) smtp.mailfrom=272336@student.pwr.edu.pl;)

w dig - dig pwr.edu.pl TXT - sprawdzic spf; chyba jest ok bo include _spf.google.com

mail ze spamu że wygrałem perfumy: greatexpectation.biz

przechodzi spf



z pwr.edu.pl - DKIM pass

Authentication-Results: mx.google.com;
dkim=pass header.i=@student.pwr.edu.pl header.s=google header.b="HPuzT//0";

DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=student.pwr.edu.pl; s=google; t=1713545219; x=1714150019; dara=google.com;
        h=to:subject:message-id:date:from:mime-version:from:to:cc:subject
         :date:message-id:reply-to;

v (required), version
c (optional), canonicalization algorithm(s) for header and body
d (required), Signing Domain Identifier (SDID)
s (required), selector
t (recommended), signature timestamp
x (recommended), expire time   (pewnie epoch)
h (required), header fields - list of those that have been signed

ze spamu: dkim=none (no signatures found);




z pwr.edu.pl - dmarc=pass (p=QUARANTINE sp=QUARANTINE dis=NONE) header.from=student.pwr.edu.pl

v is the version, p is the policy , sp the subdomain policy, dis to (chyba) disposition

o politykach:
none - nic nie rob jak nie przejdzie
quarantine - do spamu
reject - odrzuc

ze spamu: dmarc=none (p=none,d=none,d.eval=none)


SPF - sender policy framework - okresla, ktore serwery maja uprawnienia do wysylania wiadomosci w imieniu danej domeny. 
DKIM - domain keys indentified mail - podpisy cyfrowe
DMARC - domain based message authentication, reporting and conformance - dodanie rekordu dmarc do uystawien dns domeny z instrukcjami jak traktowac maile


sprawdzam uzywając dig txt (text record, rodzaj rekordu w DNS, opisuje nazwę domeny)

A - adres
MX - mail exchange record
NS - name server record
TXT - text record
SOA - start of authority record (o domenie)
TTL - time  to live
ANY

dig <domena> txt

pwr.edu.pl 
mail.esmtt.com -> brak spf1

dig txt P112023._domainkey.pwr.edu.pl
dig txt _dmarc.pwr.edu.pl 

polityka dmarc w p=

none – dostarcz wiadomo´s´c
quarantine – dostarcz wiadomo´s´c do folderu SPAM
reject – odrzu´c wiadomo´s´c

moze się zdarzyć, że wiadomośc trafi do spamu, gdy np zadzialaja jakies filtry antyspamowe - np gdy nadawca cczęsto wysyla wiadomosci, to moze zostać oflagowany jako spamer; ogolnie mogą zadziałac rozne algorytmy atyspamowe skrzynki odbiorcy


moze zawierac zlosliwy zalacznik, poniewaz nie zawartosc zalacznikow nie jest weryfikowana
